<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Rise Up Wichita - Local Job Board</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>

<style>
*{box-sizing:border-box;}
html,body{height:100%;}
body{background:#1e3a8a;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}

.section{display:none;}
.section.active{display:block;}

.hero-bg{position:relative;min-height:100vh;overflow:hidden;}
.hero-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:1;}
.hero-overlay{position:absolute;inset:0;background:radial-gradient(circle at center,rgba(15,23,42,0.2),rgba(15,23,42,0.8));z-index:2;}
.hero-content{position:relative;z-index:3;}
.hero-text{text-shadow:0 0 20px rgba(15,23,42,0.8);}

.btn-3d{position:relative;transition:all .2s ease;border:none;box-shadow:0 10px 25px rgba(0,0,0,.35);}
.btn-3d:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 16px 32px rgba(0,0,0,.45);}

.card-3d{background:white;border-radius:14px;box-shadow:0 12px 28px rgba(0,0,0,0.2);}

.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;justify-content:center;align-items:center;z-index:50;}

.toast{position:fixed;bottom:20px;right:20px;padding:12px 18px;border-radius:8px;font-size:14px;opacity:0;transition:.3s;}
.toast.show{opacity:1;}
.toast-success{background:#22c55e;color:white;}
.toast-error{background:#dc2626;color:white;}
</style>
</head>


<body>

<!-- HERO SECTION -->
<main id="home-section" class="section active">
<div class="hero-bg flex items-center justify-center text-center text-white">
    <video class="hero-video" autoplay muted loop playsinline>
        <source src="https://s3.us-east-2.amazonaws.com/wichita.video.2/wichita+2.mp4" type="video/mp4"/>
    </video>

    <div class="hero-overlay"></div>

    <div class="hero-content w-full max-w-5xl mx-auto px-4 pt-32 pb-24">
        <h2 class="text-sm tracking-[0.28em] uppercase text-blue-200 mb-5 hero-text">
            Wichita, Kansas ‚Ä¢ The Air Capital of the World
        </h2>

        <h1 class="hero-text text-5xl font-extrabold mb-4">
            Connect Wichita's Workforce
        </h1>

        <p class="hero-text text-lg text-blue-100 mb-10 max-w-2xl mx-auto">
            A local-first job board helping Wichita residents build careers, earn great pay, and keep money in the community.
        </p>

        <div class="flex flex-col sm:flex-row justify-center gap-4 mb-12">
            <button onclick="showSection('jobs')" class="btn-3d bg-white text-blue-900 px-8 py-3 rounded-full text-lg font-semibold">
                Browse Local Jobs
            </button>

            <button onclick="guardPostJobFromHero()" class="btn-3d bg-red-600 text-white px-8 py-3 rounded-full text-lg font-semibold">
                Post a Job
            </button>
        </div>

        <div class="flex flex-col sm:flex-row justify-center items-center gap-12">
            <div class="flex flex-col items-center">
                <div class="w-20 h-20 rounded-full bg-white card-3d flex items-center justify-center mb-3">
                    <div>
                        <div id="jobs-count" class="text-2xl font-bold text-blue-800">0</div>
                        <div class="text-xs font-semibold text-blue-700">JOBS</div>
                    </div>
                </div>
                <p class="hero-text text-sm font-medium">Open roles</p>
            </div>

            <div class="flex flex-col items-center">
                <div class="w-20 h-20 rounded-full bg-white card-3d flex items-center justify-center mb-3">
                    <div>
                        <div id="seekers-count" class="text-2xl font-bold text-blue-800">0</div>
                        <div class="text-xs font-semibold text-blue-700">SEEKERS</div>
                    </div>
                </div>
                <p class="hero-text text-sm font-medium">Active profiles</p>
            </div>

            <div class="flex flex-col items-center">
                <div class="w-20 h-20 rounded-full bg-white card-3d flex items-center justify-center mb-3">
                    <div>
                        <div class="text-2xl font-bold text-red-600">100%</div>
                        <div class="text-xs font-semibold text-blue-700">LOCAL</div>
                    </div>
                </div>
                <p class="hero-text text-sm font-medium">Wichita only</p>
            </div>
        </div>
    </div>
</div>
</main>


<!-- JOBS SECTION -->
<section id="jobs-section" class="section bg-slate-900 pt-24 pb-16 text-white">
<div class="max-w-7xl mx-auto px-4">
    <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Available Positions</h2>
        <p class="text-slate-300 text-lg">Search by title, company, or neighborhood.</p>
    </div>

    <div class="mb-8 flex flex-wrap gap-3 justify-center">
        <select id="job-type-filter" class="bg-white text-slate-900 px-4 py-2 rounded-full border border-slate-300 shadow-sm text-sm">
            <option value="">All Job Types</option>
            <option value="Full-time">Full-time</option>
            <option value="Part-time">Part-time</option>
            <option value="Contract">Contract</option>
            <option value="Seasonal">Seasonal</option>
        </select>

        <input id="job-search" type="text" placeholder="Search jobs..." class="bg-white text-slate-900 px-4 py-2 rounded-full border border-slate-300 shadow-sm w-64 text-sm"/>

        <button onclick="filterJobs()" class="btn-3d bg-red-600 px-6 py-2 rounded-full text-sm font-semibold">Search</button>
    </div>

    <div id="jobs-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    <div id="no-jobs" class="text-center text-slate-400 mt-10 hidden">No jobs yet.</div>
</div>
</section>


<!-- SEEKERS SECTION -->
<section id="seekers-section" class="section bg-slate-900 pt-24 pb-16 text-white">
<div class="max-w-7xl mx-auto px-4">
    <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Job Seekers</h2>
        <p class="text-slate-300 text-lg">Local people ready to work.</p>
    </div>

    <div id="seekers-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    <div id="no-seekers" class="text-center text-slate-400 mt-10 hidden">No job seekers yet.</div>
</div>
</section>


<!-- RESUME BUILDER -->
<section id="resume-section" class="section bg-slate-900 pt-24 pb-16 text-white">
<div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Resume Builder</h2>
        <p class="text-slate-300 text-lg">Upload a .txt r√©sum√© or start from scratch.</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <div class="card-3d text-slate-900 p-6">
            <h3 class="text-xl font-semibold text-blue-900 mb-4">Your Info</h3>

            <div class="mb-4">
                <label class="block text-sm font-medium text-slate-700 mb-1">Upload text resume (.txt)</label>
                <input id="resume-file" type="file" accept=".txt" class="block w-full text-sm text-slate-700" onchange="handleResumeUpload(event)"/>
            </div>

            <form id="resume-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Full Name *</label>
                        <input id="res-name" required class="w-full px-3 py-2 rounded-lg border"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Email *</label>
                        <input id="res-email" type="email" required class="w-full px-3 py-2 rounded-lg border"/>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Phone</label>
                        <input id="res-phone" class="w-full px-3 py-2 rounded-lg border"/>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Location *</label>
                        <input id="res-location" required class="w-full px-3 py-2 rounded-lg border"/>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Professional Summary *</label>
                    <textarea id="res-summary" rows="3" required class="w-full px-3 py-2 rounded-lg border"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Work Experience *</label>
                    <textarea id="res-experience" rows="4" required class="w-full px-3 py-2 rounded-lg border"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Education *</label>
                    <textarea id="res-education" rows="3" required class="w-full px-3 py-2 rounded-lg border"></textarea>
                </div>

                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Skills (comma separated) *</label>
                    <textarea id="res-skills" rows="2" required class="w-full px-3 py-2 rounded-lg border"></textarea>
                </div>

                <button type="submit" class="btn-3d bg-blue-600 w-full rounded-full py-2 text-sm font-semibold">Save Profile</button>
            </form>
        </div>

        <div class="card-3d text-slate-900 p-6">
            <h3 class="text-xl font-semibold text-blue-900 mb-4">Preview</h3>
            <div id="resume-preview" class="text-sm text-slate-800">
                <div class="text-center text-slate-400 py-8">Your preview appears here.</div>
            </div>
        </div>
    </div>
</div>
</section>


<!-- POST A JOB -->
<section id="postjob-section" class="section bg-slate-900 pt-24 pb-16 text-white">
<div class="max-w-3xl mx-auto px-4">
    <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Post a Job</h2>
        <p class="text-slate-300">Connect with Wichita talent.</p>
    </div>

    <div class="card-3d text-slate-900 p-6">
        <form id="job-form" class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Job Title *</label>
                    <input id="job-title" required class="w-full px-3 py-2 rounded-lg border"/>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Company Name *</label>
                    <input id="job-company" required class="w-full px-3 py-2 rounded-lg border"/>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Location *</label>
                    <input id="job-location" required class="w-full px-3 py-2 rounded-lg border"/>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Type *</label>
                    <select id="job-type" required class="w-full px-3 py-2 rounded-lg border">
                        <option value="">Select type</option>
                        <option value="Full-time">Full-time</option>
                        <option value="Part-time">Part-time</option>
                        <option value="Contract">Contract</option>
                        <option value="Seasonal">Seasonal</option>
                    </select>
                </div>
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Salary</label>
                <input id="job-salary" placeholder="$50k - $70k" class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Description *</label>
                <textarea id="job-description" rows="4" required class="w-full px-3 py-2 rounded-lg border"></textarea>
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Requirements *</label>
                <textarea id="job-requirements" rows="3" required class="w-full px-3 py-2 rounded-lg border"></textarea>
            </div>

            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Contact *</label>
                <input id="job-contact" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <button type="submit" class="btn-3d bg-red-600 w-full rounded-full py-2 text-sm font-semibold">
                Post Job
            </button>
        </form>
    </div>
</div>
</section>


<!-- AUTH MODALS -->
<div id="login-modal" class="modal-backdrop hidden">
    <div class="card-3d max-w-md w-full p-6">
        <h3 class="text-xl font-semibold text-blue-900 mb-4">Login</h3>

        <form id="login-form" class="space-y-4 text-sm text-slate-900">
            <div>
                <label>Email *</label>
                <input id="login-email" type="email" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>
            <div>
                <label>Password *</label>
                <input id="login-password" type="password" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>
            <button type="submit" class="btn-3d bg-blue-600 w-full rounded-full py-2">Login</button>
        </form>

        <div class="mt-4 text-center">
            <div id="google-signin"></div>
        </div>

        <div class="mt-4 text-xs text-center text-blue-600">
            Don't have an account? <button onclick="switchToSignup()" class="underline">Sign up</button>
        </div>
    </div>
</div>


<div id="signup-modal" class="modal-backdrop hidden">
    <div class="card-3d max-w-md w-full p-6">
        <h3 class="text-xl font-semibold text-blue-900 mb-4">Create Account</h3>

        <form id="signup-form" class="space-y-4 text-sm text-slate-900">

            <div class="grid grid-cols-2 gap-3">
                <button type="button" id="signup-type-seeker" onclick="setSignupType('seeker')" class="border rounded-lg p-3 text-center">
                    üë§<br/>Job Seeker
                </button>
                <button type="button" id="signup-type-poster" onclick="setSignupType('poster')" class="border rounded-lg p-3 text-center">
                    üè¢<br/>Job Poster
                </button>
            </div>

            <input type="hidden" id="signup-type"/>

            <div>
                <label>Full Name *</label>
                <input id="signup-name" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <div>
                <label>Email *</label>
                <input id="signup-email" type="email" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <div>
                <label>Password *</label>
                <input id="signup-password" type="password" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <div>
                <label>Location *</label>
                <input id="signup-location" required class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <div id="signup-company-wrapper" class="hidden">
                <label>Company Name *</label>
                <input id="signup-company" class="w-full px-3 py-2 rounded-lg border"/>
            </div>

            <button type="submit" class="btn-3d bg-red-600 w-full rounded-full py-2">Create Account</button>
        </form>

        <div class="mt-4 text-xs text-center text-blue-600">
            Already have an account? <button onclick="switchToLogin()" class="underline">Login</button>
        </div>
    </div>
</div>


<div id="toast" class="toast"></div>


<!-- FULL SCRIPT -->
<script>
const STORAGE_KEY='ruw_data_v2';
let allData=[],jobs=[],seekers=[],users=[],currentUser=null;

function loadAllData(){
    const raw=localStorage.getItem(STORAGE_KEY);
    allData=raw?JSON.parse(raw):[];
    jobs=allData.filter(d=>d.type==='job');
    seekers=allData.filter(d=>d.type==='seeker');
    users=allData.filter(d=>d.type==='user');
}

function saveAllData(){localStorage.setItem(STORAGE_KEY,JSON.stringify(allData));}
function addItem(i){allData.push(i);saveAllData();loadAllData();refreshUI();}

/************* SAMPLE JOBS *************/
const sampleJobs=[
{id:'j1',type:'job',title:'CNC Machine Operator',company:'Prairie Sky Manufacturing',location:'North Wichita',jobType:'Full-time',salary:'$22/hr',description:'Operate CNC equipment.',requirements:'Experience preferred.',contact:'apply@prairie.com'},
{id:'j2',type:'job',title:'Warehouse Associate',company:'Heartland Logistics Hub',location:'South Wichita',jobType:'Full-time',salary:'$18/hr',description:'General warehouse work.',requirements:'Lift 50 lbs.',contact:'jobs@heartland.com'},
{id:'j3',type:'job',title:'Customer Service Rep',company:'Tallgrass Community Credit Union',location:'Downtown ICT',jobType:'Full-time',salary:'$19/hr',description:'Assist customers.',requirements:'Good attitude.',contact:'careers@tccu.com'}
];

/************* SAMPLE SEEKERS *************/
const sampleSeekers=[
{id:'s1',type:'seeker',name:'Jordan M.',role:'Sheet Metal Apprentice',location:'Wichita'},
{id:'s2',type:'seeker',name:'Lisa T.',role:'Customer Service Specialist',location:'Wichita'},
{id:'s3',type:'seeker',name:'Miguel A.',role:'General Labor',location:'Wichita'}
];

/************* SECTION CONTROL *************/
function showSection(id){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id+'-section').classList.add('active');
    window.scrollTo(0,0);
}

function guardPostJobFromHero(){
    if(!currentUser || currentUser.type!=='poster'){
        openSignupModal();
        setSignupType('poster');
    } else showSection('postjob');
}

/************* UI REFRESH *************/
function refreshUI(){
    document.getElementById('jobs-count').innerText=jobs.length;
    document.getElementById('seekers-count').innerText=seekers.length;

    const fj=document.getElementById('featured-jobs');
    if(fj){fj.innerHTML='';}

    const gridJobs=document.getElementById('jobs-grid');
    if(gridJobs){
        gridJobs.innerHTML='';
        jobs.forEach(j=>{
            gridJobs.innerHTML+=`
                <div class="card-3d p-5">
                    <h3 class="text-xl font-bold text-blue-900">${j.title}</h3>
                    <p class="text-slate-700">${j.company}</p>
                    <p class="text-slate-500 text-sm">${j.location}</p>
                    <button class="btn-3d bg-blue-600 text-white px-4 py-2 rounded-full mt-2" onclick="alert('Contact: ${j.contact}')">Apply</button>
                </div>`;
        });
    }

    const gridSeekers=document.getElementById('seekers-grid');
    if(gridSeekers){
        gridSeekers.innerHTML='';
        seekers.forEach(p=>{
            gridSeekers.innerHTML+=`
                <div class="card-3d p-5">
                    <h3 class="text-xl font-bold text-blue-900">${p.name}</h3>
                    <p class="text-slate-700">${p.role}</p>
                    <p class="text-slate-500 text-sm">${p.location}</p>
                </div>`;
        });
    }
}


/************* FILTER JOBS *************/
function filterJobs(){
    const q=document.getElementById('job-search').value.toLowerCase();
    const t=document.getElementById('job-type-filter').value;

    const filtered=jobs.filter(j=>
        (j.title.toLowerCase().includes(q) ||
         j.company.toLowerCase().includes(q) ||
         j.location.toLowerCase().includes(q))
        && (t==='' || j.jobType===t)
    );

    const grid=document.getElementById('jobs-grid');
    grid.innerHTML='';

    filtered.forEach(j=>{
        grid.innerHTML+=`
            <div class="card-3d p-5">
                <h3 class="text-xl font-bold text-blue-900">${j.title}</h3>
                <p class="text-slate-700">${j.company}</p>
                <p class="text-slate-500 text-sm">${j.location}</p>
                <button class="btn-3d bg-blue-600 px-4 py-1 rounded-full text-sm" onclick="alert('Contact: ${j.contact}')">Apply</button>
            </div>`;
    });

    document.getElementById('no-jobs').classList.toggle('hidden',filtered.length>0);
}


/************* RESUME UPLOAD *************/
function handleResumeUpload(e){
    const f=e.target.files[0];
    if(!f)return;

    const r=new FileReader();
    r.onload=function(){
        document.getElementById('res-summary').value=r.result.slice(0,200);
    };
    r.readAsText(f);
}


/************* POST JOB *************/
document.getElementById('job-form').addEventListener('submit',e=>{
    e.preventDefault();

    const j={
        id:'job_'+Date.now(),
        type:'job',
        title:document.getElementById('job-title').value,
        company:document.getElementById('job-company').value,
        location:document.getElementById('job-location').value,
        jobType:document.getElementById('job-type').value,
        salary:document.getElementById('job-salary').value,
        description:document.getElementById('job-description').value,
        requirements:document.getElementById('job-requirements').value,
        contact:document.getElementById('job-contact').value
    };

    addItem(j);
    showSection('jobs');
    showToast('Job posted!');
});


/************* LOGIN & SIGNUP *************/
function openLoginModal(){document.getElementById('login-modal').classList.remove('hidden');}
function closeLoginModal(){document.getElementById('login-modal').classList.add('hidden');}

function openSignupModal(){document.getElementById('signup-modal').classList.remove('hidden');}
function closeSignupModal(){document.getElementById('signup-modal').classList.add('hidden');}

function switchToSignup(){closeLoginModal();openSignupModal();}
function switchToLogin(){closeSignupModal();openLoginModal();}

function setSignupType(t){
    document.getElementById('signup-type').value=t;
    document.getElementById('signup-type-seeker').classList.toggle('border-blue-500',t==='seeker');
    document.getElementById('signup-type-poster').classList.toggle('border-blue-500',t==='poster');
    document.getElementById('signup-company-wrapper').classList.toggle('hidden',t!=='poster');
}

document.getElementById('login-form').addEventListener('submit',e=>{
    e.preventDefault();

    const em=document.getElementById('login-email').value.toLowerCase();
    const pw=document.getElementById('login-password').value;
    const u=users.find(x=>x.email===em && x.password===pw);

    if(!u)return showToast('Invalid login','error');

    currentUser=u;
    refreshUI();
    closeLoginModal();
    showToast('Welcome back!');
});

document.getElementById('signup-form').addEventListener('submit',e=>{
    e.preventDefault();

    const t=document.getElementById('signup-type').value || 'seeker';

    const u={
        id:'u_'+Date.now(),
        type:t,
        name:document.getElementById('signup-name').value,
        email:document.getElementById('signup-email').value.toLowerCase(),
        password:document.getElementById('signup-password').value,
        location:document.getElementById('signup-location').value
    };

    if(t==='poster'){
        u.company=document.getElementById('signup-company').value;
    }

    users.push(u);
    addItem(u);

    currentUser=u;
    refreshUI();
    closeSignupModal();
    showToast('Account created!');
});


/************* TOAST *************/
function showToast(msg,type='success'){
    const t=document.getElementById('toast');
    t.innerText=msg;
    t.className='toast show ' + (type==='error'?'toast-error':'toast-success');
    setTimeout(()=>{t.classList.remove('show');},2000);
}


/************* GOOGLE LOGIN PLACEHOLDER *************/
window.onload=function(){
    google.accounts.id.initialize({
        client_id:"REPLACE_WITH_YOUR_CLIENT_ID",
        callback:(resp)=>{
            const data=parseJwt(resp.credential);
            const em=data.email.toLowerCase();

            let u=users.find(x=>x.email===em);

            if(!u){
                u={
                    id:'u_'+Date.now(),
                    type:'seeker',
                    name:data.name,
                    email:em,
                    password:'',
                    location:'Wichita'
                };
                users.push(u);
                addItem(u);
            }

            currentUser=u;
            refreshUI();
            closeLoginModal();
            showToast('Logged in with Google!');
        }
    });

    google.accounts.id.renderButton(
        document.getElementById("google-signin"),
        {theme:"outline",size:"large"}
    );

    loadAllData();
    refreshUI();
};

function parseJwt(t){return JSON.parse(atob(t.split('.')[1]));}
</script>

</body>
</html>
